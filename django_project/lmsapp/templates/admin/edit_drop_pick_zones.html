<!-- edit_drop_pick_zones.html -->
{% extends 'admin/admin_base.html' %}
{% load static %}

{% block content %}
<div class="container mb-5" style="margin-left: 4rem;">
  <div class="row justify-content-center ml-5">
    <div class="col-md-12">
    <form class="well form-horizontal" action="" method="post" id="contact_form">
      {% csrf_token %}

      {{ form.errors }}

<fieldset>
<!-- Form Name -->
<legend class="my-4">EDIT DROP-PICK</legend>

<!-- Text input-->
<div class="form-group mt-2">
  <label class="col-md-8 control-label">Full Name</label>  
  <div class="col-md-8 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-text">👤</span>
      <input name="name" placeholder="Name" class="form-control" type="text" value="{{ drop_pick_zone.name }}">
    </div>
  </div>
</div>

<!-- Text input-->
<div class="form-group mt-2">
  <label class="col-md-8 control-label">Address</label>  
  <div class="col-md-8 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-text">📌</span>
      <input id="address" name="address" placeholder="Address" class="form-control" type="text" value="{{ drop_pick_zone.address }}">
    </div>
  </div>
</div>

<input id="latitude" name="latitude" placeholder="latitude" class="form-control" type="text" hidden>
<input id="longitude" name="longitude" placeholder="longitude" class="form-control" type="text" hidden>

<!-- Text input-->
<div class="form-group mt-2">
  <label class="col-md-8 control-label">Contact</label>  
  <div class="col-md-8 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-text">📞</span>
      <input name="phone" placeholder="Phone number" class="form-control" type="text" value="{{ drop_pick_zone.phone }}">
    </div>
  </div>
</div>

<!-- Select Basic -->
<div class="form-group mt-2"> 
  <label class="col-md-8 control-label">Warehouse</label>
  <div class="col-md-8 selectContainer">
    <div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
      <select name="warehouse" class="form-control selectpicker">
        <option value="">Please select warehouse</option>  
        {% for warehouse in warehouses %}
          <option value="{{ warehouse.id }}" {% if warehouse.id == drop_pick_zone.warehouse.id %} selected {% endif %}>{{ warehouse.name }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
</div>

<!-- Text input-->
<div class="form-group mt-2">
  <label class="col-md-8 control-label">Tag</label>  
  <div class="col-md-8 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-text">🏷️</span>
      <input name="tag" placeholder="Tag alias" class="form-control" type="text" value="{{ drop_pick_zone.tag }}">
    </div>
  </div>
</div>

<!-- Success message -->
<!-- <div class="alert alert-success" role="alert" id="success_message">Success <i class="glyphicon glyphicon-thumbs-up"></i> Thanks for contacting us, we will get back to you shortly.</div> -->

<!-- Button -->
<div class="form-group mt-2">
  <label class="col-md-8 control-label"></label>
  <div class="col-md-8">
    <button type="submit" class="btn btn-info text-white" >Update <span class="glyphicon glyphicon-send"></span></button>
  </div>
</div>

</fieldset>
</form>
    </div>
  </div>
</div>
<!-- /.container -->

<script>
  //load after page loads
  $(function () { 
    //initiate auto complete 
    var from_autocomplete = new google.maps.places.Autocomplete($("#address")[0], {});

    google.maps.event.addListener(from_autocomplete, 'place_changed', function() {
      var place = from_autocomplete.getPlace();
      $("#latitude").val(place.geometry.location.lat());
      $("#longitude").val(place.geometry.location.lng());
    });
  });
</script>

{% endblock %}
