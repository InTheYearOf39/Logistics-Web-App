{% extends 'dashboard_base.html' %} 

{% load static %}

{% block content %}

<script src="{% static 'js/dist/chart.min.js' %}"></script>
<script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
<script src="{% static 'js/dist/main.js' %}"></script>

<div class="row">
  <div class="col-md-12">
    <div class="card mb-4">
      <!-- <div class="d-flex justify-content-between"> -->
      <!-- <div class="d-flex justify-content-between"> -->
        <div class="card-header d-flex justify-content-between align-items-center">
          <h4>Packages Received</h4>
          <form class="d-flex align-items-center" method="GET" action="{% url 'packages_received' %}">
            <label for="start_date" class="me-2">Start:</label>
            <input type="date" id="start_date" name="start_date" class="form-control me-2" value="{{ request.GET.start_date }}">
            
            <label for="end_date" class="me-2">End:</label>
            <input type="date" id="end_date" name="end_date" class="form-control me-2" value="{{ request.GET.end_date }}">
            
            <button type="submit" class="btn btn-primary">Filter</button>
          </form>      
        </div>
      <!-- </div> -->
      <!-- /.row--><br />
      <div class="card-body">
        <div class="table-responsive mb-4 bg-white">
          <table class="table border mb-0">
            <thead class="table-white fw-semibold">
              <tr>
                <th>No</th>
                <th>Package</th>
                <th>Recipient</th>
                <th>From</th>
                <th>To</th>
                <th>Package No</th>
              </tr>
            </thead>
            <tbody>
              {% for package in packages_received %}
              <tr class="align-middle">
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ forloop.counter }}</span>
                  </div>
                </td>
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ package.packageName }}</span>
                  </div>
                </td>
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ package.recipientName }}</span>
                  </div>
                </td>
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ package.sendersAddress }}</span>
                  </div>
                </td>
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ package.recipientAddress }}</span>
                  </div>
                </td>
                <td class="text-start">
                  <div class="small text-medium-emphasis">
                    <span>{{ package.package_number }}</span>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


{% endblock %}
