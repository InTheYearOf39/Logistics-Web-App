<!DOCTYPE html>
<!--
* CoreUI - Free Bootstrap Admin Template
* @version v4.2.2
* @link https://coreui.io/product/free-bootstrap-admin-template/
* Copyright (c) 2023 creativeLabs Łukasz Holeczek
* Licensed under MIT (https://github.com/coreui/coreui-free-bootstrap-admin-template/blob/main/LICENSE)
-->
{% load static %}
<!-- Breadcrumb-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta name="description" content="Logistics Management System">
    <meta name="author" content="Muhumuza Ivan, Nkuraija Gary, Wogunya Israel">
    <meta name="keywords" content="Logistics,Warehouse,Drop off,Inventory,Shipment,Tracking,Delivery,Transportation,Dispatch,Hub,Route Optimization,courier,parcel,package,Supply Chain">
    <title>Dashboard</title>
    <link href="{% static 'img/favicon.png' %}" rel="icon">
    <meta name="theme-color" content="#ffffff">

    <!--Add files for google address utocomplete-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script>
    //default callback for googlemaps
    function initMap()
    {

    }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5r4DsYYly-d272kJopRlb9FCclcWokrE&callback=initMap&libraries=places&language=en-AU"></script>


    <!-- Vendors styles-->
    <link rel="stylesheet" href="{% static 'css/dist/simplebar.css' %}">
    <!-- Main styles for this application-->
    <link href="{% static 'css/dist/dashboard_style.css' %}" rel="stylesheet">
    <!-- styles to include icons -->
    <link href="{% static '@coreui/icons/css/all.min.css' %}" rel="stylesheet">

    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>

    
    
    {% block static_links %}{% endblock %}
  </head>
  <body>
    <!-- sidebar -->
    <div class="sidebar sidebar-dark sidebar-fixed" id="sidebar">
      <div class="sidebar-brand d-none d-md-flex">
        <!-- <svg class="sidebar-brand-full" width="118" height="46" alt="CoreUI Logo">
          <use xlink:href="/static/dist/assets/brand/coreui.svg#full"></use>
        </svg>
        <svg class="sidebar-brand-narrow" width="46" height="46" alt="CoreUI Logo">
          <use xlink:href="/static/dist/assets/brand/coreui.svg#signet"></use>
        </svg> -->
        <p class="sidebar-brand-full fw-bold">LMS</p>
        <p class="sidebar-brand-narrow fw-bold">LMS</p>
        
      </div>

          {% if request.user.role == "admin" %}
              {% include 'includes/admin_navigation.html' %}

          {% elif request.user.role == "warehouse" %}
              {% include 'includes/warehouse_navigation.html' %}

          {% elif request.user.role == "drop_pick_zone" %}
              {% include 'includes/drop_pick_navigation.html' %}

          {% elif request.user.role == "courier" %}
              {% include 'includes/courier_navigation.html' %}

          {% else %}
              {% include 'includes/sender_navigation.html' %}
          {% endif %}

      <button class="sidebar-toggler" type="button" data-coreui-toggle="unfoldable"></button>
    </div>
    <!-- end of sidebar -->

    <!-- wrapper --this contains the header and content -->
    <div class="wrapper d-flex flex-column min-vh-100 bg-light">

                                    <!-- header content  -->
      <header class="header header-sticky mb-4">
        <div class="container-fluid">
          <button class="header-toggler px-md-0 me-md-3" type="button" onclick="coreui.Sidebar.getInstance(document.querySelector('#sidebar')).toggle()">
            <i class="icon icon-lg cil-menu"></i>
          </button><a class="header-brand d-md-none" href="#">
            <!-- <svg width="118" height="46" alt="CoreUI Logo">
              <use xlink:href="/static/dist/assets/brand/coreui.svg#full"></use>
            </svg> -->LMS
          </a>
          <ul class="header-nav d-none d-md-flex">
            <li class="nav-item"><a class="nav-link" href="#">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Users</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Settings</a></li>
          </ul>
          <ul class="header-nav ms-auto">

            <li class="nav-item">
              

              <div class="dropdown">
                <button class="btn btn btn-transparent m-0 dropdown-toggle" type="button" data-coreui-toggle="dropdown" aria-expanded="false">
                  <i class="icon icon-lg cil-bell"></i>
                  {% if num_registered_packages > 0 %}
                  {% endif %}
                </button>
                <ul class="dropdown-menu">
                  {% if upcoming_packages.exists %}
                    {% for package in upcoming_packages %}
                      <li><a class="dropdown-item" href="#">Your package ({{ package.package_number }}) has been registered</a></li>
                    {% endfor %}
                  {% endif %}
                </ul>
              </div>
              
          </li>

            <li class="nav-item"><a class="nav-link" href="#">
                <i class="icon icon-lg cil-list-rich"></i></a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="icon icon-lg cil-envelope-open"></i></a></li>
          </ul>
          <ul class="header-nav ms-3">
            <li class="nav-item dropdown"><a class="nav-link py-0" data-coreui-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
              <div class="avatar avatar-md"><img class="avatar-img" src="{% static 'dist/assets/img/avatars/8.jpg' %}" alt="user@email.com"></div></a>
            <div class="dropdown-menu dropdown-menu-end pt-0">
              <div class="dropdown-header bg-light py-2">
                <div class="fw-semibold">Account</div>
              </div><a class="dropdown-item" href="#"><i class="icon me-2 cil-bell"></i>Updates<span class="badge badge-sm bg-info ms-2">42</span></a>
                    <a class="dropdown-item" href="#"><i class="icon me-2 cil-envelope-open"></i>Messages<span class="badge badge-sm bg-success ms-2">42</span></a>
                    <a class="dropdown-item" href="#"><i class="icon me-2 cil-task"></i>Tasks<span class="badge badge-sm bg-danger ms-2">42</span></a>
                      <a class="dropdown-item" href="#"><i class="icon me-2 cil-comment-square"></i>Comments<span class="badge badge-sm bg-warning ms-2">42</span></a>
              <div class="dropdown-header bg-light py-2">
                <div class="fw-semibold">Settings</div>
              </div><a class="dropdown-item" href="#"><i class="icon me-2 cil-user"></i>Profile</a>
                    <a class="dropdown-item" href="#"><i class="icon me-2 cil-settings"></i>Settings</a>
                    <a class="dropdown-item" href="#"><i class="icon me-2 cil-credit-card"></i>Payments<span class="badge badge-sm bg-secondary ms-2">42</span></a>
                    <a class="dropdown-item" href="#"><i class="icon me-2 cil-file"></i>Projects<span class="badge badge-sm bg-primary ms-2">42</span></a>
              <div class="dropdown-divider"></div>
              <!-- <a class="dropdown-item" href="#"><i class="icon me-2 cil-lock-locked"></i>Lock Account</a> -->
                  <a class="dropdown-item" href="{% url 'logout_user' %}"><i class="icon me-2 cil-account-logout"></i>Logout</a>
            </div>
          </li>
          </ul>
        </div>
        <div class="header-divider"></div>
        <div class="container-fluid">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb my-0 ms-2">
              <li class="breadcrumb-item">
                <!-- if breadcrumb is single-->
                <span><a href="/" class="nav-link" style="text-decoration: none;">
                  Home</a></span>
              </li>
              <li class="breadcrumb-item active"><span>Dashboard</span></li>
            </ol>
          </nav>
        </div>
      </header>
                                    <!-- header content ends here -->
      <div class="body flex-grow-1 px-3">

                                    <!-- body content is here -->
        <!-- <div class="container-lg"> -->
          <div class="container-fluid">
           
          {% block content %}{% endblock %}
                                    
        </div>
                                <!-- body content ends here -->
      <footer class="footer">
        <div class="ms-auto"><p id="footer-info"></p></div>
      </footer>
    </div>
    <!-- end of wrapper -->

    <script>      
        const currentYear = new Date().getFullYear();
        const footerElement = document.getElementById("footer-info");
        footerElement.textContent = `LMS ${currentYear} `;
    </script>
      
    <!-- CoreUI and necessary plugins-->
    <script src="{% static 'js/dist/coreui.bundle.min.js' %}"></script>
    <script src="{% static 'js/dist/simplebar.min.js' %}"></script>
    <!-- Plugins and scripts required by this view-->
    <!-- <script src="{% static 'js/dist/chart.min.js' %}"></script> -->
    <script src="{% static 'js/dist/coreui-chartjs.js' %}"></script>
    <script src="{% static 'js/dist/coreui-utils.js' %}"></script>
    <!-- <script src="{% static 'js/dist/main.js' %}"></script> -->

  </body>
</html>